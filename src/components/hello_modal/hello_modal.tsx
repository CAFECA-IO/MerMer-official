import Image from 'next/image';
import MerMerButton from '../../components/mermer_button/mermer_button';
import {useTranslation} from 'next-i18next';
import {RxCrossCircled} from 'react-icons/rx';

type TranslateFunction = (s: string) => string;

interface IHelloModal {
  helloModalRef?: React.RefObject<HTMLDivElement>;
  helloModalVisible?: boolean;
  helloClickHandler?: () => void;
  helloSuccessLoginClickHandler?: () => void;
}

const HelloModal = ({
  helloModalRef,
  helloModalVisible = false,
  helloClickHandler,
  helloSuccessLoginClickHandler,
}: IHelloModal) => {
  const {t}: {t: TranslateFunction} = useTranslation('common');

  const isDisplayedHelloModal = helloModalVisible ? (
    /* Info: (20231129 - Julian) Blur Mask */
    <div className="fixed inset-0 z-50 flex items-center justify-center overflow-y-auto overflow-x-hidden bg-darkBlue3/0 outline-none backdrop-blur-sm focus:outline-none">
      <div
        id="HelloModal"
        ref={helloModalRef}
        className="relative flex  h-500px w-430px  flex-col items-center justify-between rounded-xl bg-darkBlue3  p-6 pb-10 shadow-lg shadow-black/80 outline-none focus:outline-none md:w-450px"
      >
        <div className="flex h-30px w-full justify-end">
          <button
            id="HelloCloseButton"
            onClick={helloClickHandler}
            className="p-1 text-base font-semibold leading-none text-gray-300 outline-none focus:outline-none lg:right-5 lg:top-5"
          >
            <RxCrossCircled size={30} />
          </button>
        </div>
        <div className="flex flex-col items-center  text-lg leading-relaxed text-lightWhite1">
          {/* Hello icon */}
          <svg
            width="152"
            height="52"
            viewBox="0 0 152 52"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_592_9251)">
              <path
                d="M28.9144 0.733252C28.8687 0.381901 29.1121 0.0458256 29.462 -2.87872e-06C29.5228 -2.87872e-06 29.5836 -2.87872e-06 29.6445 -2.87872e-06H35.1965C35.5464 -0.0458313 35.881 0.198587 35.9266 0.549938C35.9266 0.611043 35.9266 0.672148 35.9266 0.733252V50.5946C35.9723 50.9459 35.7289 51.282 35.379 51.3278C35.3182 51.3278 35.2574 51.3278 35.1965 51.3278H29.6445C29.2946 51.3737 28.96 51.1293 28.9144 50.7779C28.9144 50.7168 28.9144 50.6557 28.9144 50.5946V28.8108C28.9296 28.6733 28.8383 28.5358 28.7014 28.5206C28.671 28.5206 28.6558 28.5206 28.6253 28.5206H7.80143C7.66453 28.5053 7.52763 28.5969 7.51242 28.7344C7.51242 28.765 7.51242 28.7803 7.51242 28.8108V50.5946C7.55805 50.9459 7.31467 51.282 6.96482 51.3278C6.90397 51.3278 6.84313 51.3278 6.78229 51.3278H1.23026C0.880402 51.3737 0.545759 51.1293 0.500126 50.7779C0.500126 50.7168 0.500126 50.6557 0.500126 50.5946V0.733252C0.454493 0.381901 0.69787 0.0611017 1.04772 -2.87872e-06C1.10857 -2.87872e-06 1.16941 -2.87872e-06 1.23026 -2.87872e-06H6.78229C7.13214 -0.0458313 7.46678 0.198587 7.51242 0.549938C7.51242 0.611043 7.51242 0.672148 7.51242 0.733252V22.1504C7.49721 22.2879 7.58847 22.4254 7.72537 22.4407C7.75579 22.4407 7.771 22.4407 7.80143 22.4407H28.6101C28.747 22.4559 28.8839 22.3643 28.8991 22.2268C28.8991 22.1962 28.8991 22.181 28.8991 22.1504V0.733252H28.9144ZM76.8139 28.0164C77.0117 30.262 77.0877 32.5076 77.0421 34.7685C77.0877 35.1199 76.8443 35.4559 76.4945 35.5018C76.4336 35.5018 76.3728 35.5018 76.312 35.5018H53.0086C52.8717 35.4865 52.7348 35.5781 52.7196 35.7156C52.7196 35.7462 52.7196 35.7615 52.7196 35.792C52.674 37.0752 52.8261 38.3737 53.1607 39.611C53.6475 41.49 54.8035 43.1246 56.4159 44.1939C58.2564 45.3549 60.4164 45.9201 62.5916 45.8437C65.9684 45.9659 69.1476 44.255 70.912 41.3678C71.1554 40.879 71.4748 40.8026 71.8551 41.1539L76.0229 43.9342C76.3424 44.1328 76.4489 44.5605 76.2359 44.8813C74.8213 47.1269 72.8134 48.9295 70.4253 50.0905C67.7786 51.3889 64.858 52.0458 61.9223 52C58.7736 52.1069 55.6554 51.2973 52.9478 49.6475C50.4836 48.0435 48.567 45.7062 47.4718 42.9718C46.2245 39.6263 45.6161 36.067 45.7073 32.4924C45.6161 29.7579 45.8899 27.0235 46.5135 24.3502C47.2741 21.1422 49.145 18.3161 51.7765 16.3455C54.5602 14.3443 57.9218 13.3055 61.3443 13.4125C66.2575 13.4125 69.9385 14.6498 72.3723 17.1093C75.0494 20.134 76.6162 23.9683 76.8291 28.0012L76.8139 28.0164ZM61.3291 19.5076C59.4733 19.4313 57.648 19.9812 56.1421 21.0811C54.7731 22.1351 53.7996 23.6169 53.3737 25.2973C52.9934 26.6416 52.7653 28.0164 52.7196 29.4066C52.7044 29.5441 52.7957 29.6815 52.9326 29.6968C52.963 29.6968 52.9782 29.6968 53.0086 29.6968H69.7408C69.8777 29.7121 70.0146 29.6204 70.0298 29.483C70.0298 29.4524 70.0298 29.4371 70.0298 29.4066C69.9842 28.1998 69.832 27.0082 69.5887 25.8167C69.1628 24.0141 68.1436 22.3948 66.6986 21.2338C65.1623 20.0576 63.2761 19.4465 61.3443 19.5076H61.3291ZM86.5946 51.3278C86.2448 51.3889 85.9101 51.1445 85.8645 50.7932C85.8645 50.7321 85.8645 50.671 85.8645 50.5946V0.733252C85.8188 0.381901 86.0622 0.0458256 86.4121 -2.87872e-06C86.4729 -2.87872e-06 86.5338 -2.87872e-06 86.5946 -2.87872e-06H92.1466C92.4965 -0.0458313 92.8311 0.198587 92.8768 0.549938C92.8768 0.611043 92.8768 0.672148 92.8768 0.733252V50.5946C92.9224 50.9459 92.679 51.282 92.3292 51.3278C92.2683 51.3278 92.2075 51.3278 92.1466 51.3278H86.6098H86.5946ZM103.753 51.3278C103.403 51.3737 103.068 51.1293 103.023 50.7779C103.023 50.7168 103.023 50.6557 103.023 50.5946V0.733252C102.977 0.381901 103.22 0.0458256 103.57 -2.87872e-06C103.631 -2.87872e-06 103.692 -2.87872e-06 103.753 -2.87872e-06H109.305C109.655 -0.0458313 109.989 0.198587 110.035 0.549938C110.035 0.611043 110.035 0.672148 110.035 0.733252V50.5946C110.08 50.9459 109.837 51.282 109.487 51.3278C109.426 51.3278 109.366 51.3278 109.305 51.3278H103.753ZM135.361 51.9083C132.015 51.9847 128.729 51.0223 125.946 49.1586C123.253 47.3255 121.276 44.6216 120.317 41.49C119.405 38.6028 118.964 35.5781 119.009 32.5382C118.933 29.5593 119.359 26.5805 120.257 23.7391C121.23 20.6533 123.208 17.9647 125.885 16.1469C128.714 14.2679 132.06 13.3055 135.452 13.3972C138.723 13.3208 141.917 14.2832 144.61 16.1469C147.226 17.9953 149.173 20.6228 150.192 23.6627C151.12 26.5041 151.561 29.4677 151.5 32.4618C151.561 35.517 151.105 38.557 150.192 41.4747C149.249 44.5758 147.287 47.2797 144.64 49.1433C141.917 51.007 138.662 51.9694 135.361 51.8931V51.9083ZM135.361 45.8284C137.202 45.859 138.997 45.2785 140.472 44.1786C141.978 43.0023 143.088 41.3678 143.606 39.5194C144.184 37.2738 144.457 34.9518 144.412 32.6298C144.457 30.3384 144.214 28.047 143.682 25.8167C143.149 23.9683 142.054 22.3337 140.548 21.1575C138.997 20.027 137.126 19.4465 135.224 19.5076C133.369 19.4618 131.543 20.0423 130.037 21.1575C128.516 22.3337 127.421 23.9683 126.889 25.8167C126.295 28.0317 126.022 30.3384 126.082 32.6298C126.022 34.9518 126.295 37.2738 126.889 39.5194C127.375 41.3678 128.471 43.0176 129.992 44.1633C131.558 45.2938 133.445 45.8743 135.361 45.8132V45.8284Z"
                fill="url(#paint0_linear_592_9251)"
              />
            </g>
            <defs>
              <linearGradient
                id="paint0_linear_592_9251"
                x1="74.5181"
                y1="54.9226"
                x2="74.5181"
                y2="2.92263"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#31D3F5" />
                <stop offset="1" stop-color="#21E6C1" />
              </linearGradient>
              <clipPath id="clip0_592_9251">
                <rect width="151" height="52" fill="white" transform="translate(0.5)" />
              </clipPath>
            </defs>
          </svg>
          {/* Hello Icon end */}
          <h2 className="mt-6 text-xl font-bold text-lightWhite1">
            {t('WALLET_PANEL.HELLO_DESCRIPTION')}
          </h2>
        </div>
        <MerMerButton
          id="HelloModalDone"
          className="flex gap-2 rounded px-10 py-10px font-normal transition-all hover:opacity-90"
          onClick={helloSuccessLoginClickHandler}
        >
          <Image
            className="relative"
            src="/elements/star.svg"
            width={24}
            height={24}
            alt="x-circle icon"
          />
          <div>{t('WALLET_PANEL.DONE_BUTTON')}</div>
        </MerMerButton>
      </div>
    </div>
  ) : null;

  return <>{isDisplayedHelloModal}</>;
};

export default HelloModal;
